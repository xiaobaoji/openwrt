# 核心架构配置（x86_64通用，6.6内核）
CONFIG_TARGET_x86=y
CONFIG_TARGET_x86_64=y
CONFIG_TARGET_x86_64_Generic=y
CONFIG_TARGET_BOARD="x86"
CONFIG_TARGET_SUBTARGET="64"
CONFIG_TARGET_PROFILE="Generic"
CONFIG_TARGET_ARCH_PACKAGES="x86_64"
CONFIG_TARGET_ARCH="x86_64"
CONFIG_TARGET_CPU_TYPE="x86-64"
CONFIG_TARGET_SUFFIX="musl"

# 固件格式配置（squashfs）
CONFIG_TARGET_IMAGES=y
CONFIG_TARGET_IMAGES_IMG=y
CONFIG_TARGET_IMAGES_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCKSIZE=256
CONFIG_TARGET_IMAGES_PAD=y
CONFIG_TARGET_IMAGES_GZIP=y
# CONFIG_TARGET_IMAGES_EXT4FS is not set

# 分区配置（1024M根分区）
CONFIG_TARGET_ROOTFS_PARTSIZE=1024
CONFIG_TARGET_KERNEL_PARTSIZE=32
CONFIG_TARGET_BOOT_PARTITION_SIZE=134217728

# 6.6内核配置
CONFIG_KERNEL_VERSION="6.6"
CONFIG_KERNEL_PT_PROBE=y
CONFIG_KERNEL_MODULES=y
CONFIG_KERNEL_FW_LOADER=y
CONFIG_KERNEL_NET_DEVLINK=y
CONFIG_KERNEL_SWAP=y
CONFIG_KERNEL_ZRAM=y
CONFIG_KERNEL_IKCONFIG=y
CONFIG_KERNEL_IKCONFIG_PROC=y

# 基础系统依赖
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_coreutils=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_libustream-mbedtls=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_libopenssl=y

# 网络依赖
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_iptables=y
CONFIG_PACKAGE_kmod-ipt-tproxy=y
CONFIG_PACKAGE_ppp-mod-pppoe=y

# LUCI界面（中文）
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_LUCI_LANG="zh-cn"
CONFIG_PACKAGE_luci-theme-argon=y

# 存储/USB驱动
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_kmod-usb-storage=y
CONFIG_PACKAGE_kmod-usb3=y
CONFIG_PACKAGE_ntfs-3g=y

# x64硬件驱动
CONFIG_PACKAGE_kmod-e1000e=y
CONFIG_PACKAGE_kmod-igb=y
CONFIG_PACKAGE_kmod-r8169=y
CONFIG_PACKAGE_kmod-iwlwifi=y

# nikki插件（完整依赖）
CONFIG_PACKAGE_luci-app-nikki=y
CONFIG_PACKAGE_luci-i18n-nikki-zh-cn=y
CONFIG_PACKAGE_nikki-core=y
CONFIG_PACKAGE_libpthread=y

# passwall插件（完整依赖）
CONFIG_PACKAGE_luci-app-passwall=y
CONFIG_PACKAGE_luci-i18n-passwall-zh-cn=y
CONFIG_PACKAGE_passwall2=y
CONFIG_PACKAGE_v2ray-core=y
CONFIG_PACKAGE_trojan-go=y
CONFIG_PACKAGE_shadowsocks-libev=y
CONFIG_PACKAGE_dnscrypt-proxy2=y
CONFIG_PACKAGE_libcap-bin=y

# 编译工具链
CONFIG_DEVEL=y
CONFIG_GCC_VERSION="12"
CONFIG_LIBC="musl"
CONFIG_CXX=y

# 禁用无用配置
# CONFIG_PACKAGE_kmod-bluetooth is not set
# CONFIG_TARGET_IMAGES_VDI is not set
